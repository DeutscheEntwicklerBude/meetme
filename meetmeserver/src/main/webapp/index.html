<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="icon" href="img/symbol.png"/>
<title>Virtual Lobby</title>
  <script type="text/javascript" src="js/jquery-1.11.2.min.js"></script>
  <script>
    var intervalClient = new XMLHttpRequest();
    var nimrodClient = new XMLHttpRequest();
    var michaelClient = new XMLHttpRequest();
    var nicolasClient = new XMLHttpRequest();
    var hweeClient = new XMLHttpRequest();
    var georgeClient = new XMLHttpRequest();
    var lecturers = ["Delante", "Greliche", "Joyce", "Jacobs", "Leng Toh Heng"];
    var clients = [nimrodClient, nicolasClient, michaelClient, georgeClient, hweeClient];

    function worker() {
      for (i = 0; i < lecturers.length; i++)
      {
        clients[i].open("GET", 'api/lecturer/availability/' + lecturers[i].toString());
        clients[i].onreadystatechange = stateChanged("Delante");
        clients[i].send();


      };
    }

    function stateChanged(client, name){
      if (client.readyState === client.DONE) {
        if (client.response.toString() == "false")
        {
          alert("false entered");
          document.getElementById(name).style.visibility = "none";
        }
        else {
          document.getElementById(name).style.visibility = "visible";
        }
      }
      alert(name.toString() + ": " + this.response.toString());
    };
    $(document).ready(function() {
      /*for (i = 0; i < lecturers.length; i++)
      {
        //alert(lecturers[i].toString() + ": " + clients[i].toString());
        clients[i].open("GET", 'api/lecturer/availability/' + lecturers[i].toString());
        clients[i].onreadystatechange = stateChanged(clients[i], lecturers[i]);
        clients[i].send();

        alert("request sent");

      };*/

      //alert("documentReadyFunction");

      nimrodClient.open("GET", 'api/lecturer/availability/Delante');

      nimrodClient.onreadystatechange = function() {
        if (this.readyState === this.DONE) {
          if (this.response.toString() == "false")
          {
            //alert("false entered");
            document.getElementById("Delante").style.visibility = "collapse";
          }
          else {
            document.getElementById("Delante").style.visibility = "visible";
          }
        }
      };

      nimrodClient.send();
      //alert("nimrod sent");

      hweeClient.open("GET", 'api/lecturer/availability/Leng Toh Heng');
      hweeClient.onreadystatechange = function() {
        if (this.readyState === this.DONE) {
          if (this.response.toString() == "false")
          {
            //alert("false entered");
            document.getElementById("Leng Toh Heng").style.visibility = "collapse";
          }
          else {
            document.getElementById("Leng Toh Heng").style.visibility = "visible";
          }
        }
      };
      hweeClient.send();


      nicolasClient.open("GET", 'api/lecturer/availability/Greliche');
      nicolasClient.onreadystatechange = function() {
        if (this.readyState === this.DONE) {
          if (this.response.toString() == "false")
          {
            //alert("false entered");
            document.getElementById("Greliche").style.visibility = "collapse";
          }
          else {
            document.getElementById("Greliche").style.visibility = "visible";
          }
        }
      };
      nicolasClient.send();

      michaelClient.open("GET", 'api/lecturer/availability/Joyce');
      michaelClient.onreadystatechange = function() {
        if (this.readyState === this.DONE) {
          if (this.response.toString() == "false")
          {
            //alert("false entered");
            document.getElementById("Joyce").style.visibility = "collapse";
          }
          else {
            document.getElementById("Joyce").style.visibility = "visible";
          }
        }
      };
      michaelClient.send();

      georgeClient.open("GET", 'api/lecturer/availability/Jacobs');
      georgeClient.onreadystatechange = function() {
        if (this.readyState === this.DONE) {
          if (this.response.toString() == "false")
          {
            //alert("false entered");
            document.getElementById("Jacobs").style.visibility = "collapse";
          }
          else {
            document.getElementById("Jacobs").style.visibility = "visible";
          }
        }
      };
      georgeClient.send();
    });
  </script>

<!-- Bootstrap -->
<link rel="stylesheet" href="css/bootstrap.css"/>

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
<style>
  .hidden{
    visibility: hidden;
  }
  </style>
<nav class="navbar navbar-inverse" id="hallo">
  <div class="container"> 
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#myDefaultNavbar1"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button>
      <a class="navbar-brand" href="#"><img style="height:inherit; padding:0px; margin-top:-20px;" src="img/jcuslogo.png" /></a> </div>
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="myDefaultNavbar1">
      <ul class="nav navbar-nav">
        <li class="active"><a href="index.html">Home <span class="sr-only">(current)</span></a></li>
        <li><a href="https://www.jcu.edu.sg/student-life/student-support-services/learning-support">Learning Support</a></li>
      </ul>
    </div>
    <!-- /.navbar-collapse --> 
  </div>
  <!-- /.container-fluid --> 
</nav>

<section>
  <div class="container special" >
    <div class="row text-center">
      <div class="col-sm-4 col-sm-offset-1">
        <div class="jumbotron text-center" id="Leng Toh Heng"  onClick="showAppointmentType('hwee')">
        <img class="img-responsive img-rounded center-block" style="max-height:244px;" src="img/Hwee-Leng-Toh-Heng.jpg"/>
          <t class="text lead">Ms. Hwee Leng Toh-Heng</t><br/>
         <t class="text small">Learning Advisor</t>
        </div>
      </div>
      <div class="col-sm-4 col-sm-offset-1">
        <div class="jumbotron text-center" id="Delante" onClick="showAppointmentType('nimrod')">
        <img class="img-responsive img-rounded center-block" style="max-height:244px;" src="img/n_delante.jpg"/>
          <t class="text lead">Mr. Nimrod Delante</t><br/>
          <t class="text small">Learning Advisor</t>
        </div>
      </div>
    </div>
    
    <div class="row">
      <div class="col-sm-4" >
        <div class="jumbotron text-center" id="Greliche" onClick="showAppointmentType('nicolas')"> <img class="img-responsive img-rounded center-block" src="img/Nicolas-Greliche.jpg"/>
        <t class="text lead">Dr. Nicolas Greliche</t><br/>
         <t class="text small">Learning Advisor</t>
        </div>
      </div>
      <div class="col-sm-4">
      <div class="jumbotron text-center" id="Jacobs" onClick="showAppointmentType('george')">
        <img class="img-responsive img-rounded center-block" style="max-height:244px;" src="img/George-Jacobs.jpg"/>
          <t class="text lead">Dr. George Jacobs</t><br/>
          <t class="text small">Learning Advisor</t>
        </div>
      </div>
    
      <div class="col-sm-4">
        <div class="jumbotron text-center" id="Joyce" onClick="showAppointmentType('michael')">
        <img class="img-responsive img-rounded center-block" style="max-height:244px;" src="img/Michael-Joyce.jpg"/>
          <t class="text lead">Mr. Michael James Joyce</t><br/>
          <t class="text small">Teacher, Learning Advisor</t>
        </div>
      </div>
    </div>
    </div>

 </section>
<footer class="text-center">
  <div class="container">
    <div class="row">
      <div class="col-sm-12">
        <p>Copyright Â© DEB - Deutsche Entwicklerbude. All rights reserved.</p>
      </div>
    </div>
  </div>
</footer>



<script>
  function showAppointmentType(name) {
    localStorage.setItem("advisorName", name);
    window.location.assign("appointmentType.html");
  }





</script>

</body>
</html>

